(this["webpackJsonpinteractive-art-t2"]=this["webpackJsonpinteractive-art-t2"]||[]).push([[0],{51:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var r=n(6),i=n(27),c=n.n(i),o=(n(51),n(0)),s=n(16),a=n(60),j=(n(59),n(61),n(28)),u=n(11),b=n(9),l=n(44),O=n(10);function g(t){var e=Object(s.g)(),n=e.camera,i=e.gl.domElement,c=Object(r.useRef)({});return Object(s.e)((function(){return c.current.update()})),Object(O.jsx)("orbitControls",Object(b.a)(Object(b.a)({},t),{},{ref:c,args:[n,i]}))}Object(s.d)({OrbitControls:l.a});var h=n(12),f=(n(47),n(40));function d(t){var e=t.d,n=t.t,i=t.children,c=Object(r.useRef)(),o=Object(f.useSpring)({from:{springXZ:-1},to:{springXZ:1},loop:{reverse:!0},config:{duration:n/3*2}}).springXZ,a=Object(f.useSpring)({from:{springY:-1},to:{springY:1},loop:{reverse:!0},config:{duration:n}}).springY;return Object(s.e)((function(){c.current.position.z=Math.cos(o.get())*e/2,c.current.position.x=Math.sin(o.get())*e/2,c.current.position.y=Math.sin(a.get())*e})),Object(O.jsx)(f.a.group,{ref:c,children:i})}function p(){var t=Object(r.useState)(3),e=Object(h.a)(t,2),n=e[0],i=e[1];return M(),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("pointLight",{position:[0,-10,0],intensity:1.5}),Object(O.jsx)(C,{}),Object(O.jsxs)(r.Suspense,{fallback:Object(O.jsx)(O.Fragment,{}),children:[Object(O.jsx)(d,{t:3e3,d:.1,children:Array.from(new Array(n)).map((function(){return Object(O.jsx)(v,{x:Math.floor(100*Math.random()-50),y:Math.floor(30*Math.random()),z:Math.floor(10*Math.random()+1),url:"./lantern.glb"})}))}),Object(O.jsx)("pointLight",{position:[0,-4,10],intensity:1.5}),Object(O.jsx)(m,{setCount:i,x:0,y:-1.5,z:52})]})]})}function x(){return Object(O.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:100},children:Object(O.jsxs)(s.a,{translate:!0,onCreated:function(t){return t.gl.setClearColor(16777215,0)},colorManagement:!0,shadowMap:!0,camera:{position:[0,0,60],fov:60},children:[Object(O.jsx)(p,{}),Object(O.jsx)(g,{}),Object(O.jsx)("gridHelper",{})]})})}function m(t){var e=t.setCount,n=t.x,i=t.y,c=t.z,o=Object(r.useState)(0),s=Object(h.a)(o,2),a=s[0],j=s[1];return Object(O.jsxs)("mesh",{onClick:function(){j(a+.1),e((function(t){return t+1})),console.log("click")},children:[Object(O.jsx)("pointLight",{distance:10,position:[n,i+5,c+9],intensity:a}),Object(O.jsx)("pointLight",{position:[n,i-2.5,c+3],intensity:.6}),Object(r.useMemo)((function(){return Object(O.jsx)(v,{x:0,y:-1.5,z:52,url:"./lantern.glb"})}),[])]})}function v(t){var e=t.x,n=t.y,i=t.z,c=t.url,o=Object(a.a)(c).scene,s=Object(r.useMemo)((function(){return o.clone()}),[o]);return console.log(s),s?Object(O.jsx)("group",{position:[e,n,i],scale:.005,children:Object(O.jsx)("primitive",{object:s})}):null}var y=["lf","rt","up","dn","ft","bk"].map((function(t){return"./Skybox/nightsky_"+t+".png"})),M=function(){var t=Object(s.g)().scene;return Object(r.useEffect)((function(){var e=(new o.CubeTextureLoader).load(y);t.background=e,t.environment=e}),[t]),null};function C(){return Object(O.jsxs)(j.b,{children:[Object(O.jsx)(j.a,{intensity:1,blurPass:void 0,width:u.y.AUTO_SIZE,height:u.y.AUTO_SIZE,kernelSize:u.r.LARGE,luminanceThreshold:0,luminanceSmoothing:.025}),Object(O.jsx)(j.c,{opacity:.02}),Object(O.jsx)(j.e,{eskil:!1,offset:.1})]})}function k(){return M(),null}function S(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{}),Object(O.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%"},children:Object(O.jsxs)(s.a,{translate:!0,colorManagement:!0,shadowMap:!0,camera:{position:[-5,3,6],fov:60},children:[Object(O.jsx)(k,{}),Object(O.jsx)(g,{}),Object(O.jsx)("gridHelper",{})]})})]})}var w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),r(t),i(t),c(t),o(t)}))};c.a.render(Object(O.jsx)(S,{}),document.getElementById("root")),w()}},[[56,1,2]]]);
//# sourceMappingURL=main.d7e51a4a.chunk.js.map