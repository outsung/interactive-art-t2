(this["webpackJsonpinteractive-art-t2"]=this["webpackJsonpinteractive-art-t2"]||[]).push([[0],{51:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var r=n(6),o=n(28),i=n.n(o),c=(n(51),n(0)),a=n(17),s=n(60),u=(n(59),n(61),n(29)),j=n(12),b=n(9),f=n(44),O=n(11);function l(t){var e=Object(a.g)(),n=e.camera,o=e.gl.domElement,i=Object(r.useRef)({});return Object(a.e)((function(){return i.current.update()})),Object(O.jsx)("orbitControls",Object(b.a)(Object(b.a)({},t),{},{ref:i,args:[n,o]}))}Object(a.d)({OrbitControls:f.a});var g=n(19),p=n.n(g),m=n(22),d=n(16),h=n(10),x=(n(47),n(21));function P(t){var e=t.d,n=t.t,o=t.children,i=Object(r.useRef)(),c=Object(x.useSpring)({from:{springXZ:-1},to:{springXZ:1},loop:{reverse:!0},config:{duration:n/3*2}}).springXZ,s=Object(x.useSpring)({from:{springY:-1},to:{springY:1},loop:{reverse:!0},config:{duration:n}}).springY;return Object(a.e)((function(){i.current.position.z=Math.cos(c.get())*e/2,i.current.position.x=Math.sin(c.get())*e/2,i.current.position.y=Math.sin(s.get())*e})),Object(O.jsx)(x.a.group,{ref:i,children:o})}var v=function(){return Object(O.jsx)(w,{x:Math.floor(100*Math.random()),y:Math.floor(30*Math.random()),z:Math.floor(100*Math.random()-50),url:"./lantern.glb"})};function k(){var t=Object(r.useState)([v(),v(),v()]),e=Object(h.a)(t,2),n=e[0],o=e[1],i=Object(r.useCallback)((function(){o((function(t){return[].concat(Object(d.a)(t),[v()])}))}),[]);return C(),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("pointLight",{position:[0,-10,0],intensity:1.5}),Object(O.jsx)(R,{}),Object(O.jsxs)(r.Suspense,{fallback:Object(O.jsx)(O.Fragment,{}),children:[Object(O.jsx)(P,{t:3e3,d:.1,children:n}),Object(O.jsx)("pointLight",{position:[0,-4,10],intensity:1.5}),Object(r.useMemo)((function(){return Object(O.jsx)(A,{addLenterns:i,x:-4,y:-2,z:52})}),[i])]})]})}function y(){return Object(O.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:100},children:Object(O.jsxs)(a.a,{translate:!0,onCreated:function(t){return t.gl.setClearColor(16777215,0)},colorManagement:!0,shadowMap:!0,camera:{position:[0,0,60],fov:60},children:[Object(O.jsx)(k,{}),Object(O.jsx)(l,{}),Object(O.jsx)("gridHelper",{})]})})}function S(t){return 1-Math.cos(t*Math.PI/2)}function L(t){return Math.sin(t*Math.PI/2)}function M(t){return-(Math.cos(Math.PI*t)-1)/2}function A(t){var e=t.addLenterns,n=t.x,o=t.y,i=t.z,s=Object(r.useState)(0),u=Object(h.a)(s,2),j=u[0],b=u[1],f=Object(r.useRef)(),l=Object(r.useRef)([]),g=Object(x.useSpringRef)(),d=Object(x.useSpring)((function(){return{lenternPosition1:[0,0,0],cameraPosition1:[0,0],ref:g}})),P=Object(h.a)(d,2),v=P[0],k=v.lenternPosition1,y=v.cameraPosition1,A=P[1],T=Object(x.useSpringRef)(),C=Object(x.useSpring)((function(){return{lenternPosition2:[0,0,0],cameraPosition2:[0,0],cameraLookAt2:[0],ref:T}})),R=Object(h.a)(C,2),z=R[0],I=z.lenternPosition2,E=z.cameraPosition2,F=z.cameraLookAt2,Z=R[1],X=Object(x.useSpringRef)(),Y=Object(x.useSpring)((function(){return{lenternPosition3:[0,0,0],cameraPosition3:[0,0],cameraLookAt3:[0],ref:X}})),_=Object(h.a)(Y,2),B=_[0],H=B.lenternPosition3,J=B.cameraPosition3,U=B.cameraLookAt3,D=_[1],G=Object(x.useSpringRef)(),V=Object(x.useSpring)((function(){return{cameraPosition4:[0,0],cameraLookAt4:[0],ref:G}})),q=Object(h.a)(V,2),K=q[0],N=K.cameraPosition4,Q=K.cameraLookAt4,W=q[1],$=Object(x.useSpringRef)(),tt=Object(x.useSpring)((function(){return{lenternPosition5:[0,0,0],ref:$}})),et=Object(h.a)(tt,2),nt=et[0].lenternPosition5,rt=et[1],ot=Object(x.useSpringRef)(),it=Object(x.useSpring)((function(){return{lenternPosition6:[0,0,0],ref:ot}})),ct=Object(h.a)(it,2),at=ct[0].lenternPosition6,st=ct[1];Object(a.e)((function(t){var e=k.get(),n=Object(h.a)(e,3),r=n[0],o=n[1],i=n[2],a=I.get(),s=Object(h.a)(a,3),u=s[0],j=s[1],b=s[2],O=H.get(),l=Object(h.a)(O,3),g=l[0],p=l[1],m=l[2],d=nt.get(),x=Object(h.a)(d,3),P=x[0],v=x[1],S=x[2],L=at.get(),M=Object(h.a)(L,3),A=M[0],w=M[1],T=M[2],C=y.get(),R=Object(h.a)(C,2),z=R[0],Z=R[1],X=E.get(),Y=Object(h.a)(X,2),_=Y[0],B=Y[1],D=J.get(),G=Object(h.a)(D,2),V=G[0],q=G[1],K=N.get(),W=Object(h.a)(K,2),$=W[0],tt=W[1],et=F.get(),rt=Object(h.a)(et,1)[0],ot=U.get(),it=Object(h.a)(ot,1)[0],ct=Q.get(),st=Object(h.a)(ct,1)[0],ut=z+_+V+$,jt=Z+B+q+tt;t.camera.lookAt(new c.Vector3(ut,jt+rt+it+st,0)),t.camera.position.x=ut,t.camera.position.y=jt,f.current.position.x=r+u+g+P+A,f.current.position.y=o+j+p+v+w,f.current.position.z=i+b+m+S+T})),Object(r.useEffect)((function(){return function(){l.current.map((function(t){return t&&t.current()}))}}),[]);var ut=function(){var t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A((function(){return{lenternPosition1:[30,27,-5],cameraPosition1:[20,23,0],config:{duration:7e3,easing:S}}})),l.current[0]=setTimeout((function(){Z({lenternPosition2:[15,12,-15],cameraPosition2:[2,5,0],cameraLookAt2:[0,3,0],config:{duration:5e3}})}),7e3),l.current[1]=setTimeout((function(){D({lenternPosition3:[19,14,-20],cameraPosition3:[0,0,0],cameraLookAt3:[0,2,0],config:{duration:5e3,easing:L}})}),12e3),l.current[2]=setTimeout((function(){W({cameraPosition4:[-22,-28,0],cameraLookAt4:[0,-5,0],config:{duration:7e3,easing:M}})}),19e3),l.current[3]=setTimeout((function(){rt({lenternPosition5:[-64,-58,30],config:{duration:1}})}),22e3),l.current[4]=setTimeout((function(){st({lenternPosition6:[0,5,10],config:{duration:5e3,easing:M}})}),24e3),l.current[5]=setTimeout((function(){jt()}),3e4);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),jt=function(){var t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A((function(){return{lenternPosition1:[0,0,0],cameraPosition1:[0,0,0],config:{duration:1}}})),Z({lenternPosition2:[0,0,0],cameraPosition2:[0,0,0],cameraLookAt2:[0,0,0],config:{duration:1}}),D({lenternPosition3:[0,0,0],cameraPosition3:[0,0,0],cameraLookAt3:[0,0,0],config:{duration:1}}),W({cameraPosition4:[0,0,0],cameraLookAt4:[0,0,0],config:{duration:1}}),rt({lenternPosition5:[0,0,0],config:{duration:1}}),st({lenternPosition6:[0,0,0],config:{duration:1}}),e();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)("mesh",{ref:f,onClick:function(){b(j+.1),ut()},children:[Object(O.jsx)("pointLight",{distance:10,position:[n,o+5,i+9],intensity:j}),Object(O.jsx)("pointLight",{position:[n,o-2.5,i+3],intensity:.6}),Object(r.useMemo)((function(){return Object(O.jsx)(w,{x:n,y:o,z:i,url:"./lantern.glb"})}),[n,o,i])]})}function w(t){var e=t.x,n=t.y,o=t.z,i=t.url,c=Object(s.a)(i).scene,a=Object(r.useMemo)((function(){return c.clone()}),[c]);return console.log(a),a?Object(O.jsx)("group",{position:[e,n,o],scale:.005,children:Object(O.jsx)("primitive",{object:a})}):null}var T=["lf","rt","up","dn","ft","bk"].map((function(t){return"./Skybox/nightsky_"+t+".png"})),C=function(){var t=Object(a.g)().scene;return Object(r.useEffect)((function(){var e=(new c.CubeTextureLoader).load(T);t.background=e,t.environment=e}),[t]),null};function R(){return Object(O.jsxs)(u.b,{children:[Object(O.jsx)(u.a,{intensity:1,blurPass:void 0,width:j.y.AUTO_SIZE,height:j.y.AUTO_SIZE,kernelSize:j.r.LARGE,luminanceThreshold:0,luminanceSmoothing:.025}),Object(O.jsx)(u.c,{opacity:.02}),Object(O.jsx)(u.e,{eskil:!1,offset:.1})]})}function z(){return C(),null}function I(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{}),Object(O.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%"},children:Object(O.jsxs)(a.a,{translate:!0,colorManagement:!0,shadowMap:!0,camera:{position:[-5,3,6],fov:60},children:[Object(O.jsx)(z,{}),Object(O.jsx)(l,{}),Object(O.jsx)("gridHelper",{})]})})]})}var E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),r(t),o(t),i(t),c(t)}))};i.a.render(Object(O.jsx)(I,{}),document.getElementById("root")),E()}},[[56,1,2]]]);
//# sourceMappingURL=main.b2e1f6a4.chunk.js.map